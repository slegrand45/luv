<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Luv__Error (luv.Luv__Error)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../index.html">luv</a> &#x00BB; Luv__Error</nav><h1>Module <code>Luv__Error</code></h1><p>Error handling.</p><p>See <a href="https://aantron.github.io/luv/basics.html#error-handling"><i>Error handling</i></a> in the user guide and <a href="http://docs.libuv.org/en/v1.x/errors.html"><i>Error handling</i></a> in libuv.</p></header><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> t</code> = <code>[ </code><table class="variant"><tr id="type-t.E2BIG" class="anchored"><td class="def constructor"><a href="#type-t.E2BIG" class="anchor"></a><code>| </code><code>`E2BIG</code></td></tr><tr id="type-t.EACCES" class="anchored"><td class="def constructor"><a href="#type-t.EACCES" class="anchor"></a><code>| </code><code>`EACCES</code></td></tr><tr id="type-t.EADDRINUSE" class="anchored"><td class="def constructor"><a href="#type-t.EADDRINUSE" class="anchor"></a><code>| </code><code>`EADDRINUSE</code></td></tr><tr id="type-t.EADDRNOTAVAIL" class="anchored"><td class="def constructor"><a href="#type-t.EADDRNOTAVAIL" class="anchor"></a><code>| </code><code>`EADDRNOTAVAIL</code></td></tr><tr id="type-t.EAFNOSUPPORT" class="anchored"><td class="def constructor"><a href="#type-t.EAFNOSUPPORT" class="anchor"></a><code>| </code><code>`EAFNOSUPPORT</code></td></tr><tr id="type-t.EAGAIN" class="anchored"><td class="def constructor"><a href="#type-t.EAGAIN" class="anchor"></a><code>| </code><code>`EAGAIN</code></td></tr><tr id="type-t.EAI_ADDRFAMILY" class="anchored"><td class="def constructor"><a href="#type-t.EAI_ADDRFAMILY" class="anchor"></a><code>| </code><code>`EAI_ADDRFAMILY</code></td></tr><tr id="type-t.EAI_AGAIN" class="anchored"><td class="def constructor"><a href="#type-t.EAI_AGAIN" class="anchor"></a><code>| </code><code>`EAI_AGAIN</code></td></tr><tr id="type-t.EAI_BADFLAGS" class="anchored"><td class="def constructor"><a href="#type-t.EAI_BADFLAGS" class="anchor"></a><code>| </code><code>`EAI_BADFLAGS</code></td></tr><tr id="type-t.EAI_BADHINTS" class="anchored"><td class="def constructor"><a href="#type-t.EAI_BADHINTS" class="anchor"></a><code>| </code><code>`EAI_BADHINTS</code></td></tr><tr id="type-t.EAI_CANCELED" class="anchored"><td class="def constructor"><a href="#type-t.EAI_CANCELED" class="anchor"></a><code>| </code><code>`EAI_CANCELED</code></td></tr><tr id="type-t.EAI_FAIL" class="anchored"><td class="def constructor"><a href="#type-t.EAI_FAIL" class="anchor"></a><code>| </code><code>`EAI_FAIL</code></td></tr><tr id="type-t.EAI_FAMILY" class="anchored"><td class="def constructor"><a href="#type-t.EAI_FAMILY" class="anchor"></a><code>| </code><code>`EAI_FAMILY</code></td></tr><tr id="type-t.EAI_MEMORY" class="anchored"><td class="def constructor"><a href="#type-t.EAI_MEMORY" class="anchor"></a><code>| </code><code>`EAI_MEMORY</code></td></tr><tr id="type-t.EAI_NODATA" class="anchored"><td class="def constructor"><a href="#type-t.EAI_NODATA" class="anchor"></a><code>| </code><code>`EAI_NODATA</code></td></tr><tr id="type-t.EAI_NONAME" class="anchored"><td class="def constructor"><a href="#type-t.EAI_NONAME" class="anchor"></a><code>| </code><code>`EAI_NONAME</code></td></tr><tr id="type-t.EAI_OVERFLOW" class="anchored"><td class="def constructor"><a href="#type-t.EAI_OVERFLOW" class="anchor"></a><code>| </code><code>`EAI_OVERFLOW</code></td></tr><tr id="type-t.EAI_PROTOCOL" class="anchored"><td class="def constructor"><a href="#type-t.EAI_PROTOCOL" class="anchor"></a><code>| </code><code>`EAI_PROTOCOL</code></td></tr><tr id="type-t.EAI_SERVICE" class="anchored"><td class="def constructor"><a href="#type-t.EAI_SERVICE" class="anchor"></a><code>| </code><code>`EAI_SERVICE</code></td></tr><tr id="type-t.EAI_SOCKTYPE" class="anchored"><td class="def constructor"><a href="#type-t.EAI_SOCKTYPE" class="anchor"></a><code>| </code><code>`EAI_SOCKTYPE</code></td></tr><tr id="type-t.EALREADY" class="anchored"><td class="def constructor"><a href="#type-t.EALREADY" class="anchor"></a><code>| </code><code>`EALREADY</code></td></tr><tr id="type-t.EBADF" class="anchored"><td class="def constructor"><a href="#type-t.EBADF" class="anchor"></a><code>| </code><code>`EBADF</code></td></tr><tr id="type-t.EBUSY" class="anchored"><td class="def constructor"><a href="#type-t.EBUSY" class="anchor"></a><code>| </code><code>`EBUSY</code></td></tr><tr id="type-t.ECANCELED" class="anchored"><td class="def constructor"><a href="#type-t.ECANCELED" class="anchor"></a><code>| </code><code>`ECANCELED</code></td></tr><tr id="type-t.ECONNABORTED" class="anchored"><td class="def constructor"><a href="#type-t.ECONNABORTED" class="anchor"></a><code>| </code><code>`ECONNABORTED</code></td></tr><tr id="type-t.ECONNREFUSED" class="anchored"><td class="def constructor"><a href="#type-t.ECONNREFUSED" class="anchor"></a><code>| </code><code>`ECONNREFUSED</code></td></tr><tr id="type-t.ECONNRESET" class="anchored"><td class="def constructor"><a href="#type-t.ECONNRESET" class="anchor"></a><code>| </code><code>`ECONNRESET</code></td></tr><tr id="type-t.EDESTADDRREQ" class="anchored"><td class="def constructor"><a href="#type-t.EDESTADDRREQ" class="anchor"></a><code>| </code><code>`EDESTADDRREQ</code></td></tr><tr id="type-t.EEXIST" class="anchored"><td class="def constructor"><a href="#type-t.EEXIST" class="anchor"></a><code>| </code><code>`EEXIST</code></td></tr><tr id="type-t.EFAULT" class="anchored"><td class="def constructor"><a href="#type-t.EFAULT" class="anchor"></a><code>| </code><code>`EFAULT</code></td></tr><tr id="type-t.EFBIG" class="anchored"><td class="def constructor"><a href="#type-t.EFBIG" class="anchor"></a><code>| </code><code>`EFBIG</code></td></tr><tr id="type-t.EFTYPE" class="anchored"><td class="def constructor"><a href="#type-t.EFTYPE" class="anchor"></a><code>| </code><code>`EFTYPE</code></td></tr><tr id="type-t.EHOSTUNREACH" class="anchored"><td class="def constructor"><a href="#type-t.EHOSTUNREACH" class="anchor"></a><code>| </code><code>`EHOSTUNREACH</code></td></tr><tr id="type-t.EILSEQ" class="anchored"><td class="def constructor"><a href="#type-t.EILSEQ" class="anchor"></a><code>| </code><code>`EILSEQ</code></td></tr><tr id="type-t.EINTR" class="anchored"><td class="def constructor"><a href="#type-t.EINTR" class="anchor"></a><code>| </code><code>`EINTR</code></td></tr><tr id="type-t.EINVAL" class="anchored"><td class="def constructor"><a href="#type-t.EINVAL" class="anchor"></a><code>| </code><code>`EINVAL</code></td></tr><tr id="type-t.EIO" class="anchored"><td class="def constructor"><a href="#type-t.EIO" class="anchor"></a><code>| </code><code>`EIO</code></td></tr><tr id="type-t.EISCONN" class="anchored"><td class="def constructor"><a href="#type-t.EISCONN" class="anchor"></a><code>| </code><code>`EISCONN</code></td></tr><tr id="type-t.EISDIR" class="anchored"><td class="def constructor"><a href="#type-t.EISDIR" class="anchor"></a><code>| </code><code>`EISDIR</code></td></tr><tr id="type-t.ELOOP" class="anchored"><td class="def constructor"><a href="#type-t.ELOOP" class="anchor"></a><code>| </code><code>`ELOOP</code></td></tr><tr id="type-t.EMFILE" class="anchored"><td class="def constructor"><a href="#type-t.EMFILE" class="anchor"></a><code>| </code><code>`EMFILE</code></td></tr><tr id="type-t.EMSGSIZE" class="anchored"><td class="def constructor"><a href="#type-t.EMSGSIZE" class="anchor"></a><code>| </code><code>`EMSGSIZE</code></td></tr><tr id="type-t.ENAMETOOLONG" class="anchored"><td class="def constructor"><a href="#type-t.ENAMETOOLONG" class="anchor"></a><code>| </code><code>`ENAMETOOLONG</code></td></tr><tr id="type-t.ENETDOWN" class="anchored"><td class="def constructor"><a href="#type-t.ENETDOWN" class="anchor"></a><code>| </code><code>`ENETDOWN</code></td></tr><tr id="type-t.ENETUNREACH" class="anchored"><td class="def constructor"><a href="#type-t.ENETUNREACH" class="anchor"></a><code>| </code><code>`ENETUNREACH</code></td></tr><tr id="type-t.ENFILE" class="anchored"><td class="def constructor"><a href="#type-t.ENFILE" class="anchor"></a><code>| </code><code>`ENFILE</code></td></tr><tr id="type-t.ENOBUFS" class="anchored"><td class="def constructor"><a href="#type-t.ENOBUFS" class="anchor"></a><code>| </code><code>`ENOBUFS</code></td></tr><tr id="type-t.ENODEV" class="anchored"><td class="def constructor"><a href="#type-t.ENODEV" class="anchor"></a><code>| </code><code>`ENODEV</code></td></tr><tr id="type-t.ENOENT" class="anchored"><td class="def constructor"><a href="#type-t.ENOENT" class="anchor"></a><code>| </code><code>`ENOENT</code></td></tr><tr id="type-t.ENOMEM" class="anchored"><td class="def constructor"><a href="#type-t.ENOMEM" class="anchor"></a><code>| </code><code>`ENOMEM</code></td></tr><tr id="type-t.ENONET" class="anchored"><td class="def constructor"><a href="#type-t.ENONET" class="anchor"></a><code>| </code><code>`ENONET</code></td></tr><tr id="type-t.ENOPROTOOPT" class="anchored"><td class="def constructor"><a href="#type-t.ENOPROTOOPT" class="anchor"></a><code>| </code><code>`ENOPROTOOPT</code></td></tr><tr id="type-t.ENOSPC" class="anchored"><td class="def constructor"><a href="#type-t.ENOSPC" class="anchor"></a><code>| </code><code>`ENOSPC</code></td></tr><tr id="type-t.ENOSYS" class="anchored"><td class="def constructor"><a href="#type-t.ENOSYS" class="anchor"></a><code>| </code><code>`ENOSYS</code></td></tr><tr id="type-t.ENOTCONN" class="anchored"><td class="def constructor"><a href="#type-t.ENOTCONN" class="anchor"></a><code>| </code><code>`ENOTCONN</code></td></tr><tr id="type-t.ENOTDIR" class="anchored"><td class="def constructor"><a href="#type-t.ENOTDIR" class="anchor"></a><code>| </code><code>`ENOTDIR</code></td></tr><tr id="type-t.ENOTEMPTY" class="anchored"><td class="def constructor"><a href="#type-t.ENOTEMPTY" class="anchor"></a><code>| </code><code>`ENOTEMPTY</code></td></tr><tr id="type-t.ENOTSOCK" class="anchored"><td class="def constructor"><a href="#type-t.ENOTSOCK" class="anchor"></a><code>| </code><code>`ENOTSOCK</code></td></tr><tr id="type-t.ENOTSUP" class="anchored"><td class="def constructor"><a href="#type-t.ENOTSUP" class="anchor"></a><code>| </code><code>`ENOTSUP</code></td></tr><tr id="type-t.ENOTTY" class="anchored"><td class="def constructor"><a href="#type-t.ENOTTY" class="anchor"></a><code>| </code><code>`ENOTTY</code></td></tr><tr id="type-t.EPERM" class="anchored"><td class="def constructor"><a href="#type-t.EPERM" class="anchor"></a><code>| </code><code>`EPERM</code></td></tr><tr id="type-t.EPIPE" class="anchored"><td class="def constructor"><a href="#type-t.EPIPE" class="anchor"></a><code>| </code><code>`EPIPE</code></td></tr><tr id="type-t.EPROTO" class="anchored"><td class="def constructor"><a href="#type-t.EPROTO" class="anchor"></a><code>| </code><code>`EPROTO</code></td></tr><tr id="type-t.EPROTONOSUPPORT" class="anchored"><td class="def constructor"><a href="#type-t.EPROTONOSUPPORT" class="anchor"></a><code>| </code><code>`EPROTONOSUPPORT</code></td></tr><tr id="type-t.EPROTOTYPE" class="anchored"><td class="def constructor"><a href="#type-t.EPROTOTYPE" class="anchor"></a><code>| </code><code>`EPROTOTYPE</code></td></tr><tr id="type-t.ERANGE" class="anchored"><td class="def constructor"><a href="#type-t.ERANGE" class="anchor"></a><code>| </code><code>`ERANGE</code></td></tr><tr id="type-t.EROFS" class="anchored"><td class="def constructor"><a href="#type-t.EROFS" class="anchor"></a><code>| </code><code>`EROFS</code></td></tr><tr id="type-t.ESHUTDOWN" class="anchored"><td class="def constructor"><a href="#type-t.ESHUTDOWN" class="anchor"></a><code>| </code><code>`ESHUTDOWN</code></td></tr><tr id="type-t.ESPIPE" class="anchored"><td class="def constructor"><a href="#type-t.ESPIPE" class="anchor"></a><code>| </code><code>`ESPIPE</code></td></tr><tr id="type-t.ESRCH" class="anchored"><td class="def constructor"><a href="#type-t.ESRCH" class="anchor"></a><code>| </code><code>`ESRCH</code></td></tr><tr id="type-t.ETIMEDOUT" class="anchored"><td class="def constructor"><a href="#type-t.ETIMEDOUT" class="anchor"></a><code>| </code><code>`ETIMEDOUT</code></td></tr><tr id="type-t.ETXTBSY" class="anchored"><td class="def constructor"><a href="#type-t.ETXTBSY" class="anchor"></a><code>| </code><code>`ETXTBSY</code></td></tr><tr id="type-t.EXDEV" class="anchored"><td class="def constructor"><a href="#type-t.EXDEV" class="anchor"></a><code>| </code><code>`EXDEV</code></td></tr><tr id="type-t.UNKNOWN" class="anchored"><td class="def constructor"><a href="#type-t.UNKNOWN" class="anchor"></a><code>| </code><code>`UNKNOWN</code></td></tr><tr id="type-t.EOF" class="anchored"><td class="def constructor"><a href="#type-t.EOF" class="anchor"></a><code>| </code><code>`EOF</code></td></tr><tr id="type-t.ENXIO" class="anchored"><td class="def constructor"><a href="#type-t.ENXIO" class="anchor"></a><code>| </code><code>`ENXIO</code></td></tr><tr id="type-t.EMLINK" class="anchored"><td class="def constructor"><a href="#type-t.EMLINK" class="anchor"></a><code>| </code><code>`EMLINK</code></td></tr></table><code> ]</code></dt><dd><p>Error codes returned by libuv functions.</p><p>Binds <a href="http://docs.libuv.org/en/v1.x/errors.html#error-constants">libuv error codes</a>, which resemble <a href="http://man7.org/linux/man-pages/man3/errno.3.html#DESCRIPTION">Unix error codes</a>.</p></dd></dl><dl><dt class="spec value" id="val-strerror"><a href="#val-strerror" class="anchor"></a><code><span class="keyword">val</span> strerror : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> string</code></dt><dd><p>Returns the error message corresponding to the given error code.</p><p>Binds <a href="http://docs.libuv.org/en/v1.x/errors.html#c.uv_strerror_r"><code>uv_strerror_r</code></a>.</p></dd></dl><dl><dt class="spec value" id="val-err_name"><a href="#val-err_name" class="anchor"></a><code><span class="keyword">val</span> err_name : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> string</code></dt><dd><p>Returns the name of the given error code.</p><p>Binds <a href="http://docs.libuv.org/en/v1.x/errors.html#c.uv_err_name_r"><code>uv_err_name_r</code></a>.</p></dd></dl><dl><dt class="spec value" id="val-translate_sys_error"><a href="#val-translate_sys_error" class="anchor"></a><code><span class="keyword">val</span> translate_sys_error : int <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p>Converts a system error code to a libuv error code.</p><p>Binds <a href="http://docs.libuv.org/en/v1.x/errors.html#c.uv_translate_sys_error"><code>uv_translate_sys_error</code></a>.</p></dd></dl><dl><dt class="spec value" id="val-set_on_unhandled_exception"><a href="#val-set_on_unhandled_exception" class="anchor"></a><code><span class="keyword">val</span> set_on_unhandled_exception : <span>(exn <span>&#45;&gt;</span> unit)</span> <span>&#45;&gt;</span> unit</code></dt><dd><p>If user code terminates a callback by raising an exception, the exception cannot be allowed to go up the call stack, because the callback was called by libuv (rather than OCaml code), and the exception would disrupt libuv book-keeping. Luv instead passes the exception to a global Luv exception handler. <code>Luv.Error.set_on_unhandled_exception f</code> replaces this exception handler with <code>f</code>.</p><p>For example, in</p><pre><code class="ml">Luv.Error.set_on_unhandled_exception f;
Luv.File.mkdir &quot;foo&quot; (fun _ -&gt; raise Exit);</code></pre><p>the exception <code>Exit</code> is passed to <code>f</code> when <code>mkdir</code> calls its callback.</p><p>It is recommended to avoid letting exceptions escape from callbacks in this way.</p><p>The default behavior, if <a href="../Luv/Error/index.html#val-set_on_unhandled_exception"><code>Luv.Error.set_on_unhandled_exception</code></a> is never called, is for Luv to print the exception to STDERR and exit the process with exit code 2.</p><p>It is recommended not to call <a href="../Luv/Error/index.html#val-set_on_unhandled_exception"><code>Luv.Error.set_on_unhandled_exception</code></a> from libraries based on Luv, but, instead, to leave the decision on how to handle exceptions up to the final application.</p></dd></dl></div></body></html>