<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Process (luv.Luv.Process)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> – <a href="../../index.html">luv</a> &#x00BB; <a href="../index.html">Luv</a> &#x00BB; Process</nav><h1>Module <code>Luv.Process</code></h1><p>Subprocesses.</p><p>See <a href="https://aantron.github.io/luv/processes.html"><i>Processes</i></a> in the user guide and <a href="http://docs.libuv.org/en/v1.x/process.html"><code>uv_process_t</code> <i>— Process handle</i></a> in libuv.</p></header><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> t</code><code> = <span><span>[ `Process ]</span> <a href="../Handle/index.html#type-t">Handle.t</a></span></code></dt><dd><p>Binds <a href="http://docs.libuv.org/en/v1.x/process.html#c.uv_process_t"><code>uv_process_t</code></a>.</p><p>Note that values of this type can be passed to functions in <a href="../Handle/index.html"><code>Luv.Handle</code></a>, in addition to the functions in this module. In particular, see <a href="../Handle/index.html#val-close"><code>Luv.Handle.close</code></a>.</p></dd></dl><dl><dt class="spec type" id="type-redirection"><a href="#type-redirection" class="anchor"></a><code><span class="keyword">type</span> redirection</code></dt><dd><p>File descriptor redirections for use with <a href="index.html#val-spawn"><code>Luv.Process.spawn</code></a>.</p></dd></dl><dl><dt class="spec value" id="val-to_parent_pipe"><a href="#val-to_parent_pipe" class="anchor"></a><code><span class="keyword">val</span> to_parent_pipe : <span>?&#8288;readable_in_child:bool</span> <span>&#45;&gt;</span> <span>?&#8288;writable_in_child:bool</span> <span>&#45;&gt;</span> <span>?&#8288;overlapped:bool</span> <span>&#45;&gt;</span> <span>fd:int</span> <span>&#45;&gt;</span> <span>parent_pipe:<a href="../Pipe/index.html#type-t">Pipe.t</a></span> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> <a href="index.html#type-redirection">redirection</a></code></dt><dd><p>Causes <code>~fd</code> in the child to be connected to <code>~to_parent_pipe</code> in the parent.</p><p>Binds <a href="http://docs.libuv.org/en/v1.x/process.html#c.uv_stdio_flags"><code>UV_CREATE_PIPE</code></a>.</p><p><code>?readable_in_child</code> sets <a href="http://docs.libuv.org/en/v1.x/process.html#c.uv_stdio_flags"><code>UV_READABLE_PIPE</code></a>, and <code>?writable_in_child</code> sets <a href="http://docs.libuv.org/en/v1.x/process.html#c.uv_stdio_flags"><code>UV_WRITABLE_PIPE</code></a>.</p><p><code>?overlapped</code> sets <a href="http://docs.libuv.org/en/v1.x/process.html#c.uv_stdio_flags"><code>UV_OVERLAPPED_PIPE</code></a>.</p></dd></dl><dl><dt class="spec value" id="val-inherit_fd"><a href="#val-inherit_fd" class="anchor"></a><code><span class="keyword">val</span> inherit_fd : <span>fd:int</span> <span>&#45;&gt;</span> <span>from_parent_fd:int</span> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> <a href="index.html#type-redirection">redirection</a></code></dt><dd><p>Causes <code>~fd</code> in the child to be connected to the same device or peer as <code>~from_parent_fd</code> in the parent.</p><p>Binds <a href="http://docs.libuv.org/en/v1.x/process.html#c.uv_stdio_flags"><code>UV_INHERIT_FD</code></a>.</p></dd></dl><dl><dt class="spec value" id="val-inherit_stream"><a href="#val-inherit_stream" class="anchor"></a><code><span class="keyword">val</span> inherit_stream : <span>fd:int</span> <span>&#45;&gt;</span> <span>from_parent_stream:<span><span class="type-var">_</span> <a href="../Stream/index.html#type-t">Stream.t</a></span></span> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> <a href="index.html#type-redirection">redirection</a></code></dt><dd><p>Same as <a href="index.html#val-inherit_fd"><code>Luv.Process.inherit_fd</code></a>, but takes a <a href="../Stream/index.html#type-t"><code>Luv.Stream.t</code></a> for the parent file descriptor.</p><p>Binds <a href="http://docs.libuv.org/en/v1.x/process.html#c.uv_stdio_flags"><code>UV_INHERIT_STREAM</code></a>.</p></dd></dl><dl><dt class="spec value" id="val-stdin"><a href="#val-stdin" class="anchor"></a><code><span class="keyword">val</span> stdin : int</code></dt><dt class="spec value" id="val-stdout"><a href="#val-stdout" class="anchor"></a><code><span class="keyword">val</span> stdout : int</code></dt><dt class="spec value" id="val-stderr"><a href="#val-stderr" class="anchor"></a><code><span class="keyword">val</span> stderr : int</code></dt><dt class="spec value" id="val-spawn"><a href="#val-spawn" class="anchor"></a><code><span class="keyword">val</span> spawn : <span>?&#8288;loop:<a href="../Loop/index.html#type-t">Loop.t</a></span> <span>&#45;&gt;</span> <span>?&#8288;on_exit:<span>(<a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span>exit_status:int64</span> <span>&#45;&gt;</span> <span>term_signal:int</span> <span>&#45;&gt;</span> unit)</span></span> <span>&#45;&gt;</span> <span>?&#8288;environment:<span><span>(string * string)</span> list</span></span> <span>&#45;&gt;</span> <span>?&#8288;working_directory:string</span> <span>&#45;&gt;</span> <span>?&#8288;redirect:<span><a href="index.html#type-redirection">redirection</a> list</span></span> <span>&#45;&gt;</span> <span>?&#8288;uid:int</span> <span>&#45;&gt;</span> <span>?&#8288;gid:int</span> <span>&#45;&gt;</span> <span>?&#8288;windows_verbatim_arguments:bool</span> <span>&#45;&gt;</span> <span>?&#8288;detached:bool</span> <span>&#45;&gt;</span> <span>?&#8288;windows_hide:bool</span> <span>&#45;&gt;</span> <span>?&#8288;windows_hide_console:bool</span> <span>&#45;&gt;</span> <span>?&#8288;windows_hide_gui:bool</span> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <span>string list</span> <span>&#45;&gt;</span> <span><span>(<a href="index.html#type-t">t</a>, <a href="../Error/index.html#type-t">Error.t</a>)</span> Result.result</span></code></dt><dd><p>Starts a process.</p><p>Binds <a href="http://docs.libuv.org/en/v1.x/process.html#c.uv_spawn"><code>uv_spawn</code></a>.</p><p>Most of the optional arguments correspond to the fields of <a href="http://docs.libuv.org/en/v1.x/process.html#c.uv_process_options_t"><code>uv_process_options_t</code></a>, which are documented <a href="http://docs.libuv.org/en/v1.x/process.html#public-members">here</a>. The remaining arguments correspond to flags from <a href="http://docs.libuv.org/en/v1.x/process.html#c.uv_process_flags"><code>uv_process_flags</code></a>.</p><p>On Unix, the <code>~term_signal</code> argument to <code>?on_exit</code> will be non-zero if the process was terminated by a signal. In this case, the <code>~exit_status</code> is invalid.</p><p>On Windows, <code>~term_signal</code> and <code>~exit_status</code> are independent of each other. <code>~term_signal</code> is set by <a href="index.html#val-kill"><code>Luv.Process.kill</code></a>, i.e. it is emulated by libuv. The operating system separately reports <code>~exit_status</code>, so it is always valid. If there is an error retrieving <code>~exit_status</code> from the OS, it is set to a negative value.</p><p>Redirections for STDIN, STDOUT, STDERR that are not specified are set by Luv to <code>UV_IGNORE</code>. This causes libuv to open new file descriptors for the child process, and redirect them to <code>/dev/null</code> or <code>nul</code>.</p></dd></dl><dl><dt class="spec value" id="val-disable_stdio_inheritance"><a href="#val-disable_stdio_inheritance" class="anchor"></a><code><span class="keyword">val</span> disable_stdio_inheritance : unit <span>&#45;&gt;</span> unit</code></dt><dd><p>Disables (tries) file descriptor inheritance for inherited descriptors.</p><p>Binds <a href="http://docs.libuv.org/en/v1.x/process.html#c.uv_disable_stdio_inheritance"><code>uv_disable_stdio_inheritance</code></a>.</p></dd></dl><dl><dt class="spec value" id="val-kill"><a href="#val-kill" class="anchor"></a><code><span class="keyword">val</span> kill : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> <span><span>(unit, <a href="../Error/index.html#type-t">Error.t</a>)</span> Result.result</span></code></dt><dd><p>Sends the given signal to the process.</p><p>Binds <a href="http://docs.libuv.org/en/v1.x/process.html#c.uv_process_kill"><code>uv_process_kill</code></a>. See <a href="http://man7.org/linux/man-pages/man3/kill.3p.html"><code>kill(3p)</code></a>.</p><p>See <a href="../Signal/index.html"><code>Luv.Signal</code></a> for signal numbers.</p></dd></dl><dl><dt class="spec value" id="val-kill_pid"><a href="#val-kill_pid" class="anchor"></a><code><span class="keyword">val</span> kill_pid : <span>pid:int</span> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> <span><span>(unit, <a href="../Error/index.html#type-t">Error.t</a>)</span> Result.result</span></code></dt><dd><p>Sends the given signal to the process with the given pid.</p><p>Binds <a href="http://docs.libuv.org/en/v1.x/process.html#c.uv_kill"><code>uv_kill</code></a>.</p><p>See <a href="../Signal/index.html"><code>Luv.Signal</code></a> for signal numbers.</p></dd></dl><dl><dt class="spec value" id="val-pid"><a href="#val-pid" class="anchor"></a><code><span class="keyword">val</span> pid : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> int</code></dt><dd><p>Evaluates to the pid of the process.</p><p>Binds <a href="http://docs.libuv.org/en/v1.x/process.html#c.uv_process_get_pid"><code>uv_process_get_pid</code></a>.</p></dd></dl></div></body></html>